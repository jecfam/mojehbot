<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <title>MojehBot | Professional AI Assistant</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <!-- Google Fonts Link For Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f8fafc;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            padding: 40px;
            text-align: center;
        }
        
        .logo-container {
            margin-bottom: 40px;
        }
        
        .logo {
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(90deg, #8b5cf6 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
            letter-spacing: -0.5px;
        }
        
        .tagline {
            color: #94a3b8;
            font-size: 1.2rem;
            font-weight: 400;
            max-width: 600px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 40px 0 60px;
        }
        
        .feature {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(100, 116, 139, 0.2);
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        
        .feature:hover {
            transform: translateY(-5px);
            border-color: #8b5cf6;
        }
        
        .feature-icon {
            font-size: 2.5rem;
            background: linear-gradient(90deg, #8b5cf6 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }
        
        .feature h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #f1f5f9;
        }
        
        .feature p {
            color: #94a3b8;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        /* Chatbot Toggler Button */
        .chatbot-toggler {
            position: fixed;
            bottom: 30px;
            right: 35px;
            outline: none;
            border: none;
            height: 64px;
            width: 64px;
            display: flex;
            cursor: pointer;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 25px rgba(139, 92, 246, 0.3);
            z-index: 1000;
        }
        
        .chatbot-toggler:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 30px rgba(139, 92, 246, 0.4);
        }
        
        .chatbot-toggler:active {
            transform: scale(0.95);
        }
        
        body.show-chatbot .chatbot-toggler {
            transform: rotate(90deg);
        }
        
        .chatbot-toggler span {
            color: #fff;
            position: absolute;
            font-size: 1.8rem;
            transition: opacity 0.3s ease;
        }
        
        .chatbot-toggler span:last-child,
        body.show-chatbot .chatbot-toggler span:first-child {
            opacity: 0;
        }
        
        body.show-chatbot .chatbot-toggler span:last-child {
            opacity: 1;
        }
        
        /* Chatbot Container */
        .chatbot {
            position: fixed;
            right: 35px;
            bottom: 110px;
            width: 420px;
            max-height: 680px;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            overflow: hidden;
            opacity: 0;
            pointer-events: none;
            transform: scale(0.8);
            transform-origin: bottom right;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 999;
        }
        
        body.show-chatbot .chatbot {
            opacity: 1;
            pointer-events: auto;
            transform: scale(1);
        }
        
        .chatbot header {
            padding: 22px 24px;
            position: relative;
            background: linear-gradient(90deg, rgba(139, 92, 246, 0.9) 0%, rgba(59, 130, 246, 0.9) 100%);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .chatbot header::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
        }
        
        .chatbot header h2 {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .chatbot header h2::before {
            content: 'âœ¨';
            font-size: 1.3rem;
        }
        
        .chatbot header .close-btn {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }
        
        .chatbot header .close-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* Chatbox */
        .chatbot .chatbox {
            overflow-y: auto;
            height: 500px;
            padding: 30px 24px 120px;
            scroll-behavior: smooth;
        }
        
        .chatbot :where(.chatbox, textarea)::-webkit-scrollbar {
            width: 8px;
        }
        
        .chatbot :where(.chatbox, textarea)::-webkit-scrollbar-track {
            background: rgba(30, 41, 59, 0.3);
            border-radius: 10px;
        }
        
        .chatbot :where(.chatbox, textarea)::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.5);
            border-radius: 10px;
        }
        
        .chatbox .chat {
            display: flex;
            list-style: none;
            margin-bottom: 24px;
            animation: fadeInUp 0.4s ease-out;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .chatbox .outgoing {
            justify-content: flex-end;
        }
        
        .chatbox .incoming {
            align-items: flex-start;
        }
        
        .chatbox .incoming .avatar {
            width: 40px;
            height: 40px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
            border-radius: 12px;
            margin-right: 12px;
            font-size: 1.2rem;
            box-shadow: 0 4px 10px rgba(139, 92, 246, 0.3);
        }
        
        .chatbox .chat p {
            white-space: pre-wrap;
            padding: 16px;
            border-radius: 18px;
            max-width: 80%;
            font-size: 0.95rem;
            line-height: 1.5;
            position: relative;
            word-break: break-word;
        }
        
        .chatbox .outgoing p {
            background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
            color: #fff;
            border-bottom-right-radius: 4px;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
        }
        
        .chatbox .incoming p {
            background: rgba(30, 41, 59, 0.8);
            color: #f1f5f9;
            border: 1px solid rgba(100, 116, 139, 0.2);
            border-bottom-left-radius: 4px;
        }
        
        .chatbox .chat p.error {
            background: rgba(220, 38, 38, 0.1);
            color: #fca5a5;
            border: 1px solid rgba(220, 38, 38, 0.2);
        }
        
        .chatbox .chat p.thinking {
            color: #94a3b8;
            font-style: italic;
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            padding: 16px;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 18px;
            width: fit-content;
            border: 1px solid rgba(100, 116, 139, 0.2);
        }
        
        .typing-indicator span {
            height: 8px;
            width: 8px;
            margin: 0 2px;
            background-color: #94a3b8;
            border-radius: 50%;
            display: inline-block;
            opacity: 0.4;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-indicator span:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                opacity: 0.4;
                transform: translateY(0);
            }
            30% {
                opacity: 1;
                transform: translateY(-5px);
            }
        }
        
        /* Chat Input */
        .chatbot .chat-input {
            display: flex;
            gap: 10px;
            position: absolute;
            bottom: 0;
            width: 100%;
            background: rgba(15, 23, 42, 0.9);
            padding: 20px 24px;
            border-top: 1px solid rgba(100, 116, 139, 0.2);
        }
        
        .chat-input textarea {
            height: 52px;
            width: 100%;
            border: none;
            outline: none;
            resize: none;
            max-height: 150px;
            padding: 16px 20px;
            font-size: 0.95rem;
            background: rgba(30, 41, 59, 0.8);
            color: #f1f5f9;
            border-radius: 16px;
            border: 1px solid rgba(100, 116, 139, 0.3);
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
        
        .chat-input textarea:focus {
            border-color: #8b5cf6;
            box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
        }
        
        .chat-input textarea::placeholder {
            color: #94a3b8;
        }
        
        .chat-input span {
            align-self: flex-end;
            cursor: pointer;
            height: 52px;
            width: 52px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 16px;
            background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
            color: #fff;
            font-size: 1.4rem;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            flex-shrink: 0;
        }
        
        .chat-input span:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(139, 92, 246, 0.3);
        }
        
        .chat-input span:active {
            transform: translateY(0);
        }
        
        /* API Warning Banner */
        .api-warning {
            background: rgba(234, 179, 8, 0.1);
            border: 1px solid rgba(234, 179, 8, 0.3);
            border-radius: 12px;
            padding: 15px 20px;
            margin: 20px auto;
            max-width: 600px;
            color: #fef3c7;
            font-size: 0.9rem;
            text-align: left;
        }
        
        .api-warning h4 {
            color: #fbbf24;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .api-warning code {
            background: rgba(0, 0, 0, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.85rem;
        }
        
        /* Footer */
        .footer {
            margin-top: 40px;
            color: #64748b;
            font-size: 0.9rem;
            text-align: center;
        }
        
        .footer a {
            color: #8b5cf6;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        
        .footer a:hover {
            color: #3b82f6;
            text-decoration: underline;
        }
        
        /* Demo Mode Indicator */
        .demo-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 0.8rem;
            color: #c4b5fd;
            z-index: 1001;
            backdrop-filter: blur(10px);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .logo {
                font-size: 2.8rem;
            }
            
            .chatbot {
                right: 0;
                bottom: 0;
                height: 100%;
                border-radius: 0;
                width: 100%;
                max-height: 100%;
            }
            
            .chatbot .chatbox {
                height: calc(100% - 120px);
                padding: 20px 16px 120px;
            }
            
            .chatbot-toggler {
                right: 20px;
                bottom: 20px;
                height: 56px;
                width: 56px;
            }
            
            .features {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .demo-indicator {
                top: 10px;
                right: 10px;
                font-size: 0.7rem;
                padding: 6px 12px;
            }
        }
        
        @media (max-width: 480px) {
            .chatbox .chat p {
                max-width: 90%;
            }
            
            .logo {
                font-size: 2.2rem;
            }
            
            .tagline {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="demo-indicator">
        ðŸ”§ Demo Mode (Using Mock Responses)
    </div>
    
    <div class="container">
        <div class="logo-container">
            <h1 class="logo">MojehBot</h1>
            <p class="tagline">A sophisticated AI assistant powered by AI. Get instant answers, creative solutions, and helpful insights on any topic.</p>
        </div>
        
        <div class="api-warning">
            <h4><span class="material-symbols-outlined" style="font-size: 1.2rem;">info</span> API Configuration Required</h4>
            <p>To connect to a real AI service, update the <code>API_KEY</code> in the JavaScript code with a valid API key from:</p>
            <ul style="margin: 10px 0 10px 20px; color: #d1d5db;">
                <li>Google Gemini AI</li>
                <li>OpenAI GPT</li>
                <li>Or any compatible AI service</li>
            </ul>
            <p>Currently running in demo mode with simulated responses.</p>
        </div>
        
        <div class="features">
            <div class="feature">
                <div class="feature-icon">âš¡</div>
                <h3>Lightning Fast</h3>
                <p>Get responses in milliseconds with our optimized AI model that delivers accurate information quickly.</p>
            </div>
            <div class="feature">
                <div class="feature-icon">ðŸ”’</div>
                <h3>Secure & Private</h3>
                <p>Your conversations are processed securely. We don't store personal data or chat history.</p>
            </div>
            <div class="feature">
                <div class="feature-icon">ðŸŽ¯</div>
                <h3>Accurate Responses</h3>
                <p>Powered by advanced AI for reliable, up-to-date information across various topics.</p>
            </div>
            <div class="feature">
                <div class="feature-icon">ðŸ’¬</div>
                <h3>Natural Conversations</h3>
                <p>Engage in human-like dialogue with context-aware responses that understand nuance.</p>
            </div>
        </div>
        
        <div class="footer">
            <p>MojehBot uses advanced AI for natural language processing. <br>For support or feedback, contact us at <a href="mailto:support@mojehbot.com">support@mojehbot.com</a></p>
            <p style="margin-top: 10px; font-size: 0.8rem;">Â© 2023 MojehBot. All rights reserved.</p>
        </div>
    </div>
    
    <!-- Chatbot Elements -->
    <button class="chatbot-toggler">
        <span class="material-symbols-rounded">mode_comment</span>
        <span class="material-symbols-outlined">close</span>
    </button>
    
    <div class="chatbot">
        <header>
            <h2>MojehBot AI Assistant</h2>
            <span class="close-btn material-symbols-outlined">close</span>
        </header>
        <ul class="chatbox">
            <li class="chat incoming">
                <div class="avatar">
                    <span class="material-symbols-outlined" style="color: white; font-size: 1.3rem;">smart_toy</span>
                </div>
                <p>Hello! I'm MojehBot, your AI assistant. I can help with questions, creative tasks, problem-solving, and much more. How can I assist you today?</p>
            </li>
        </ul>
        <div class="chat-input">
            <textarea placeholder="Type your message here..." spellcheck="false" required></textarea>
            <span id="send-btn" class="material-symbols-rounded">send</span>
        </div>
    </div>

    <script>
        // DOM Elements
        const chatbotToggler = document.querySelector(".chatbot-toggler");
        const closeBtn = document.querySelector(".close-btn");
        const chatbox = document.querySelector(".chatbox");
        const chatInput = document.querySelector(".chat-input textarea");
        const sendChatBtn = document.querySelector("#send-btn");
        
        let userMessage = null;
        const inputInitHeight = chatInput.scrollHeight;
        
        // Configuration
        const USE_MOCK_RESPONSES = true; // Set to false when you have a valid API key
        const API_KEY = "YOUR_API_KEY_HERE"; // Replace with your actual API key
        
        // For Gemini API (correct endpoint structure)
        // const API_URL = `https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent?key=${API_KEY}`;
        
        // For OpenAI API (alternative)
        // const API_URL = "https://api.openai.com/v1/chat/completions";
        
        // Mock responses for demo mode
        const mockResponses = [
            "I understand you're asking about that topic. Based on general knowledge, here's what I can tell you...",
            "That's an interesting question! Let me break it down for you in a simple way.",
            "I'd be happy to help with that. First, let me clarify a few points about your question.",
            "Great question! Here's a detailed explanation based on current information.",
            "I can definitely assist with that. Let me provide you with some helpful insights.",
            "Thanks for asking! Here's what you need to know about that topic.",
            "I've analyzed your question and here's my response with some additional context.",
            "That's a common question! Here's a comprehensive answer to help you understand better."
        ];
        
        // Sample knowledge base for specific topics
        const knowledgeBase = {
            "hello": "Hello! ðŸ‘‹ I'm MojehBot, ready to help you with anything you need. What would you like to know?",
            "hi": "Hi there! ðŸ˜Š How can I assist you today?",
            "weather": "I'm an AI assistant and don't have real-time weather data. For accurate weather information, I recommend checking a dedicated weather service or app for your location.",
            "time": "I don't have access to real-time clock data. Please check your device's clock for the current time.",
            "name": "I'm MojehBot, your friendly AI assistant! I'm here to help answer questions, brainstorm ideas, and assist with various tasks.",
            "help": "I can help with: answering questions, explaining concepts, brainstorming ideas, writing assistance, problem-solving, and much more! Just ask me anything.",
            "capabilities": "I can: answer questions, explain complex topics, help with writing and editing, brainstorm ideas, solve problems, provide information on various subjects, and engage in conversation.",
            "thanks": "You're welcome! ðŸ˜Š Is there anything else I can help you with?",
            "thank you": "You're very welcome! Feel free to ask if you need anything else.",
            "bye": "Goodbye! ðŸ‘‹ Feel free to come back anytime you need assistance. Have a great day!",
            "goodbye": "Take care! Don't hesitate to return if you have more questions.",
            "how are you": "I'm doing great, thanks for asking! ðŸ˜Š Ready to help you with whatever you need."
        };
        
        // Create chat list item
        const createChatLi = (message, className) => {
            const chatLi = document.createElement("li");
            chatLi.classList.add("chat", className);
            
            let chatContent = '';
            if (className === "outgoing") {
                chatContent = `<p>${message}</p>`;
            } else {
                chatContent = `
                    <div class="avatar">
                        <span class="material-symbols-outlined" style="color: white; font-size: 1.3rem;">smart_toy</span>
                    </div>
                    <p>${message}</p>
                `;
            }
            
            chatLi.innerHTML = chatContent;
            return chatLi;
        };
        
        // Create typing indicator
        const createTypingIndicator = () => {
            const typingLi = document.createElement("li");
            typingLi.classList.add("chat", "incoming");
            typingLi.innerHTML = `
                <div class="avatar">
                    <span class="material-symbols-outlined" style="color: white; font-size: 1.3rem;">smart_toy</span>
                </div>
                <div class="typing-indicator">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            `;
            return typingLi;
        };
        
        // Get a mock response (for demo mode)
        const getMockResponse = (userMessage) => {
            const lowerMessage = userMessage.toLowerCase();
            
            // Check knowledge base first
            for (const [key, response] of Object.entries(knowledgeBase)) {
                if (lowerMessage.includes(key)) {
                    return response;
                }
            }
            
            // Check for specific question types
            if (lowerMessage.includes("how to") || lowerMessage.includes("how do i")) {
                return "Here's a step-by-step guide for that:\n\n1. First, identify your main goal\n2. Gather necessary resources\n3. Break the process into manageable steps\n4. Execute each step carefully\n5. Review and adjust as needed\n\nWould you like more specific guidance?";
            }
            
            if (lowerMessage.includes("what is") || lowerMessage.includes("what are")) {
                return "That's a definition question. In simple terms, it refers to a concept or item that can be explained by looking at its components, history, and applications. Would you like a more detailed explanation?";
            }
            
            if (lowerMessage.includes("why") || lowerMessage.includes("reason")) {
                return "There are several reasons for that. The primary factors usually involve efficiency, effectiveness, and practicality. The specific reasons depend on the context of your question.";
            }
            
            if (lowerMessage.includes("best") || lowerMessage.includes("recommend")) {
                return "Based on general criteria like performance, reliability, and user feedback, I'd recommend considering options that prioritize quality and suitability for your specific needs.";
            }
            
            // Return a random mock response
            const randomIndex = Math.floor(Math.random() * mockResponses.length);
            return mockResponses[randomIndex];
        };
        
        // Generate AI response (real API or mock)
        const generateResponse = async (chatElement) => {
            const messageElement = chatElement.querySelector("p");
            
            // Check if we should use mock responses
            if (USE_MOCK_RESPONSES || !API_KEY || API_KEY === "YOUR_API_KEY_HERE") {
                // Use mock response with typing effect
                await new Promise(resolve => setTimeout(resolve, 800)); // Simulate API delay
                const mockResponse = getMockResponse(userMessage);
                await typeText(messageElement, mockResponse);
                return;
            }
            
            // Real API implementation would go here
            // Currently using mock due to API configuration issues
            try {
                // This is where you would implement the actual API call
                // Example for Gemini API:
                /*
                const requestOptions = {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ 
                        contents: [{ 
                            role: "user", 
                            parts: [{ text: userMessage }] 
                        }] 
                    }),
                };
                
                const response = await fetch(API_URL, requestOptions);
                const data = await response.json();
                
                if (!response.ok) {
                    throw new Error(data.error?.message || "API request failed");
                }
                
                // Extract response text based on API structure
                const responseText = data.candidates?.[0]?.content?.parts?.[0]?.text || 
                                   data.choices?.[0]?.message?.content || 
                                   "I received your message but couldn't parse the response.";
                
                await typeText(messageElement, responseText);
                */
                
                // Fallback to mock response
                await new Promise(resolve => setTimeout(resolve, 800));
                const mockResponse = getMockResponse(userMessage);
                await typeText(messageElement, mockResponse);
                
            } catch (error) {
                // Handle error
                messageElement.classList.add("error");
                await typeText(messageElement, `API Error: ${error.message}. Using demo mode.`);
                console.error("API Error:", error);
            } finally {
                // Remove typing indicator and ensure chatbox scrolls to bottom
                const typingIndicator = document.querySelector(".typing-indicator");
                if (typingIndicator && typingIndicator.parentElement) {
                    typingIndicator.parentElement.parentElement.remove();
                }
                chatbox.scrollTo({ top: chatbox.scrollHeight, behavior: 'smooth' });
            }
        };
        
        // Type text with typing effect
        const typeText = async (element, text) => {
            element.textContent = "";
            element.classList.remove("thinking");
            
            const speed = 15; // Typing speed in milliseconds per character
            let i = 0;
            
            const typeChar = () => {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    // Only scroll occasionally for performance
                    if (i % 10 === 0) {
                        chatbox.scrollTo({ top: chatbox.scrollHeight, behavior: 'smooth' });
                    }
                    setTimeout(typeChar, speed);
                } else {
                    chatbox.scrollTo({ top: chatbox.scrollHeight, behavior: 'smooth' });
                }
            };
            
            return new Promise(resolve => {
                typeChar();
                setTimeout(resolve, text.length * speed + 100);
            });
        };
        
        // Handle chat
        const handleChat = () => {
            userMessage = chatInput.value.trim();
            if (!userMessage) return;
            
            // Clear input and reset height
            chatInput.value = "";
            chatInput.style.height = `${inputInitHeight}px`;
            
            // Append user's message to chatbox
            chatbox.appendChild(createChatLi(userMessage, "outgoing"));
            chatbox.scrollTo({ top: chatbox.scrollHeight, behavior: 'smooth' });
            
            // Show thinking indicator after a short delay
            setTimeout(() => {
                const incomingChatLi = createChatLi("Thinking...", "incoming");
                incomingChatLi.querySelector("p").classList.add("thinking");
                chatbox.appendChild(incomingChatLi);
                chatbox.scrollTo({ top: chatbox.scrollHeight, behavior: 'smooth' });
                
                // Generate response
                generateResponse(incomingChatLi);
            }, 500);
        };
        
        // Adjust textarea height based on content
        chatInput.addEventListener("input", () => {
            chatInput.style.height = `${inputInitHeight}px`;
            chatInput.style.height = `${chatInput.scrollHeight}px`;
        });
        
        // Handle Enter key press
        chatInput.addEventListener("keydown", (e) => {
            if (e.key === "Enter" && !e.shiftKey) {
                e.preventDefault();
                handleChat();
            }
        });
        
        // Send button click event
        sendChatBtn.addEventListener("click", handleChat);
        
        // Close chatbot
        closeBtn.addEventListener("click", () => {
            document.body.classList.remove("show-chatbot");
        });
        
        // Toggle chatbot
        chatbotToggler.addEventListener("click", () => {
            document.body.classList.toggle("show-chatbot");
            // Focus on input when chatbot opens
            if (document.body.classList.contains("show-chatbot")) {
                setTimeout(() => {
                    chatInput.focus();
                }, 300);
            }
        });
        
        // Close chatbot when clicking outside (optional)
        document.addEventListener('click', (e) => {
            if (document.body.classList.contains('show-chatbot') &&
                !e.target.closest('.chatbot') && 
                !e.target.closest('.chatbot-toggler')) {
                document.body.classList.remove('show-chatbot');
            }
        });
        
        // Add sample questions for user convenience
        const sampleQuestions = [
            "What can you help me with?",
            "Explain quantum computing in simple terms",
            "Write a short poem about technology",
            "What are the benefits of meditation?",
            "How do I learn programming?",
            "Tell me a fun fact"
        ];
        
        // Show welcome message with sample questions
        setTimeout(() => {
            const welcomeMsg = document.querySelector('.chat.incoming p');
            if (welcomeMsg) {
                const randomQuestion = sampleQuestions[Math.floor(Math.random() * sampleQuestions.length)];
                welcomeMsg.innerHTML += `<br><br><small style="color: #94a3b8;">Try asking: "${randomQuestion}"</small>`;
            }
        }, 1000);
        
        // Add some example questions to the main page
        document.addEventListener('DOMContentLoaded', () => {
            const features = document.querySelector('.features');
            if (features) {
                const exampleContainer = document.createElement('div');
                exampleContainer.style.cssText = 'grid-column: 1 / -1; margin-top: 20px;';
                exampleContainer.innerHTML = `
                    <div style="background: rgba(30, 41, 59, 0.5); border-radius: 12px; padding: 20px; border: 1px solid rgba(100, 116, 139, 0.2);">
                        <h3 style="color: #f1f5f9; margin-bottom: 15px; text-align: center;">Try These Questions:</h3>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
                            ${sampleQuestions.map(q => 
                                `<button class="example-btn" style="background: rgba(139, 92, 246, 0.2); border: 1px solid rgba(139, 92, 246, 0.3); 
                                  color: #c4b5fd; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 0.9rem;
                                  transition: all 0.2s ease;">${q}</button>`
                            ).join('')}
                        </div>
                    </div>
                `;
                features.after(exampleContainer);
                
                // Add click handlers to example buttons
                document.querySelectorAll('.example-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const question = btn.textContent;
                        // Open chatbot if not already open
                        if (!document.body.classList.contains('show-chatbot')) {
                            document.body.classList.add('show-chatbot');
                            setTimeout(() => {
                                chatInput.focus();
                            }, 300);
                        }
                        // Set the question in the input
                        chatInput.value = question;
                        chatInput.style.height = `${inputInitHeight}px`;
                        chatInput.style.height = `${chatInput.scrollHeight}px`;
                        chatInput.focus();
                    });
                });
            }
        });
    </script>
</body>
</html>
